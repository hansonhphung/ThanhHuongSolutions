@using ThanhHuongSolution.Models.Payment;
@model PaymentInformationModel

@{
    ViewBag.Title = "Thanh Toán Nợ";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div ng-app="ThanhHuongSolution" ng-controller="PaymentController">
    <header class="page-header">
        <h2>Thanh Toán Nợ</h2>
    </header>

    <div class="panel-body" ng-init="init(@Json.Encode(Model))">
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label class="col-sm-4 control-label">Khách Hàng <span class="required">*</span></label>
                    <div class="col-sm-8">
                        <ui-select ng-model="selectedCustomer" theme="bootstrap" on-select="selectCustomer(selectedCustomer)">
                            <ui-select-match placeholder="Chọn khách hàng...">
                                {{selectedCustomer.CustomerName | limitTo:25}} {{selectedCustomer.CustomerName.length < 25 ? '' : '...'}}
                            </ui-select-match>

                            <ui-select-choices repeat="customer in lstCustomer | filter: $select.search">
                                {{customer.CustomerName}}
                            </ui-select-choices>
                        </ui-select>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-sm-4 control-label">Còn Nợ <span class="required">*</span></label>
                    <div class="col-sm-8">
                        <span>{{liabilityAmount | number}} VND</span>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label class="col-md-4 control-label">Ngày Lập <span class="required">*</span></label>
                    <div class="col-md-8">
                        <div class="input-group">
                            <span class="input-group-addon">
                                <i class="fa fa-calendar"></i>
                            </span>
                            <input class="form-control" ng-disabled="true" ng-model="createBillDate">
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-sm-4 control-label">Thanh Toán</label>
                    <div class="col-sm-8">
                        <input type="number" ng-model="debtAmount" class="form-control" />
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="panel-footer">
        <div class="row">
            <div class="col-sm-12 center">
                <button class="btn btn-success" ng-click="updateCustomerDept()">Lập Phiếu</button>
                <button type="reset" class="btn btn-default">Hủy Bỏ</button>
            </div>
        </div>
    </footer>
</div>

<script src="/Vendor/angular/angular.min.js"></script>
<script src="~/Scripts/Payment/PaymentController.js"></script>